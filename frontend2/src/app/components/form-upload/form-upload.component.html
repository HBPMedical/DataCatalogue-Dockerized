
<h1 class="title"> File Upload </h1>

<div class="first">
  <a class="instructions">
    <br>
    Necessary Conventions
    <a class="notes">

      <br>
      !NOTE: the name of the uploaded file should be in the following format: "pathology name"_"hospital name"_"version number".xlsx (e.g. demencia_Plovdiv_v2.xlsx).
      <br>
      !NOTE: all the columns described below should be present in the uploaded file.
      <br>
      !NOTE: a template with the appropriate file name and columns can be downloaded from the 'XLSX template'.
      In order to avoid naming inconsistencies we encourage users to use the provided template and fill-in their data.
      <br></a>

    <br>
    Upload and '.xlsx' file containing the columns described below:


  </a>
  <a class="examples">
    <br><b>1. csvFile: </b>     The name of the dataset file the variable is in.
    <br><b>2. name: </b>       The name of the variable.
    <br><b>3. code:  </b>      The variable’s code.
    <br><b>4. type:  </b>       The variable’s type.
    <br><b>5. values: </b>      The variable’s values. It may have an enumeration or a range of values. For enumerations, for every value please provide code and label in brackets.
    <br>Example (for ADNI category): {{"{“AD”,”Alzheimer’s Disease”},{”MCI”,”Mild Cognitive Impairment”},{”CN”,”Cognitively Normal”}"}}
    <br>For range of values simply state the min and max values with '-' in between. Example (for MMSE Total scores): 0-30.
    <br><b>6. unit: </b>         The variable’s measurement unit.
    <br><b>7. canBeNull:</b>     Whether the variable is allowed to be null or not: Y/N.
    <br><b>8. description:</b>  The variable’s description.
    <br><b>9. comments: </b>     Comments about the variable’s nature.
    <br><b>10. conceptPath:</b>    The variable’s concept path. Example (for ApoE4): /root/genetic/polymorphism/apoe4.
    <br><b>11. methodology:</b>   The methodology the variable has come from. Example (for rs10498633_T): lren-nmm-volumes.
    <br><b>12. mapFunction: </b> The function that transforms the variable’s value into the value of its corresponding CDE. Use a simple way to express values transformations.
    Example (for Handedness): 1->'R' 2->'L'
    When value stays the same fill in with "stays the same". When more than one CDEs are generated from the variable’s value, separate the corresponding functions with commas and enclose each function definition in brackets ‘[]’.
    Example (for DATA_NASCITA):
    [DATA_ESAME-DATA_NASCITA years],
    [DATA_ESAME-DATA_NASCITA rest of the months], [(DATA_ESAME-DATA_NASCITA) corresponds to one of the groups: {{"{“-50y”},{”50-59y”},{”60-69y”},{”70-79y”},{”+80y”}"}}]
    <br><b>13. mapCDE:</b> The corresponding CDE's code. Use commas to separate the CDEs when the variable has more than one correspondings.
    Example (for DATA_NASCITA): subjectageyears, subjectage, agegroup
    <br>
  </a>

  <br>
</div>

<div class="download-template">
  <!--<a class="donwloadsample" href="http://195.251.252.222:2443/mapping/getsample/{{sampleNameVersion}}">Download Sample File</a>-->
  XLSX template <button class="btn btn-success"  value="Download" (click)="download()">Download</button>
</div>


<br><br><br><br>
<div *ngIf="currentFileUpload" class="progress">
  <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" attr.aria-valuenow="{{progress.percentage}}"
       aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width:progress.percentage+'%'}">
    {{progress.percentage}}%
  </div>
</div>

<label class="btn2 btn-default">
  <input type="file" (change)="selectFile($event)">
</label>

<button class="btn btn-success" [disabled]="!selectedFiles" (click)="upload()">Upload</button>


